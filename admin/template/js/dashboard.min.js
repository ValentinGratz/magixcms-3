var dashboard=(function(d,b,a,e){function c(h,g){var f=d("#chart");d.jmRequest({handler:"ajax",url:"/admin/template/js/json/"+h+".json",method:"get",dataType:"json",beforeSend:function(){var i=d(a.createElement("div")).addClass("loader").append(d(a.createElement("i")).addClass("fa fa-spinner fa-pulse fa-3x fa-fw"),d(a.createElement("span")).append("Loading...").addClass("sr-only"));d("#chart").before(i)},success:function(i){d(".loader").remove();var m=i.map(function(n){return n.month});var k=i.map(function(n){return n.mychart});var l={labels:m,datasets:[{label:"",fill:false,lineTension:0,backgroundColor:"rgba(59,97,169,0.4)",borderColor:"rgba(59,97,169,1)",data:k},{label:"",fill:false,lineTension:0,backgroundColor:"rgba(61,168,63,0.4)",borderColor:"rgba(61,168,63,1)",data:[]},{label:"Panier moyen",fill:false,lineTension:0,backgroundColor:"rgba(214,67,67,0.4)",borderColor:"rgba(214,67,67,1)",data:[]},{label:"",fill:false,lineTension:0,backgroundColor:"rgba(80,191,216,0.4)",borderColor:"rgba(80,191,216,1)",data:[]},{label:"",fill:false,lineTension:0,backgroundColor:"rgba(229,119,46,0.4)",borderColor:"rgba(229,119,46,1)",data:[]},{label:"",fill:false,lineTension:0,backgroundColor:"rgba(131,61,168,0.4)",borderColor:"rgba(131,61,168,1)",data:[]}]};var j=new Chart(f,{type:g,data:l,options:{responsive:true,maintainAspectRatio:false,legend:{display:false},tooltips:{enabled:true,mode:"single",callbacks:{label:function(n,o){if(n.datasetIndex==2){return n.yLabel+" â‚¬"}else{return n.yLabel}}}}}});d(".cchart").click(function(){var o=d(this).data("dataset");var n=d(this).data("content");if(!d(this).hasClass("active")){d(this).addClass("active").parent("li").addClass("active");d.jmRequest({handler:"ajax",url:"/admin/template/js/json/"+d(this).data("content")+".json",method:"get",dataType:"json",success:function(q){var r=q.map(function(s){return s.mychart});j.data.datasets[o].data=r;j.update()}})}else{var p=d(".cchart.active");if(p.length>1){d(this).removeClass("active").parent("li").removeClass("active");j.data.datasets[o].data=[];j.data.datasets[o].label="";j.update()}}})}})}return{run:function(){var f=d(".cchart.current");c(d(f).data("content"),d(f).data("chart"))}}})(jQuery,window,document);